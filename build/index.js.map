{"version":3,"file":"index.js","mappings":"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","sources":["webpack://custom-block-styles/./node_modules/@wordpress/icons/build-module/library/styles.js","webpack://custom-block-styles/./src/BlockStyles.js","webpack://custom-block-styles/./src/EditBlockStyle.js","webpack://custom-block-styles/external window \"React\"","webpack://custom-block-styles/external window [\"wp\",\"apiFetch\"]","webpack://custom-block-styles/external window [\"wp\",\"blockEditor\"]","webpack://custom-block-styles/external window [\"wp\",\"blocks\"]","webpack://custom-block-styles/external window [\"wp\",\"components\"]","webpack://custom-block-styles/external window [\"wp\",\"coreData\"]","webpack://custom-block-styles/external window [\"wp\",\"data\"]","webpack://custom-block-styles/external window [\"wp\",\"editPost\"]","webpack://custom-block-styles/external window [\"wp\",\"element\"]","webpack://custom-block-styles/external window [\"wp\",\"htmlEntities\"]","webpack://custom-block-styles/external window [\"wp\",\"i18n\"]","webpack://custom-block-styles/external window [\"wp\",\"plugins\"]","webpack://custom-block-styles/external window [\"wp\",\"primitives\"]","webpack://custom-block-styles/webpack/bootstrap","webpack://custom-block-styles/webpack/runtime/compat get default export","webpack://custom-block-styles/webpack/runtime/define property getters","webpack://custom-block-styles/webpack/runtime/hasOwnProperty shorthand","webpack://custom-block-styles/webpack/runtime/make namespace object","webpack://custom-block-styles/./src/index.js"],"sourcesContent":["import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nexport const styles = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z\"\n}));\nexport default styles;\n//# sourceMappingURL=styles.js.map","import { useState, useEffect } from \"@wordpress/element\";\nimport { useEntityRecords } from \"@wordpress/core-data\";\nimport { Button } from \"@wordpress/components\";\nimport EditBlockStyle from \"./EditBlockStyle\";\nimport { decodeEntities } from \"@wordpress/html-entities\";\n\nfunction BlockStyles() {\n\tconst [blockStyles, setBlockStyles] = useState([]);\n\tconst [currentView, setCurrentView] = useState(\"list\");\n\tconst [currentBlockStyle, setCurrentBlockStyle] = useState(null);\n\n\t// @todo - grab the current block type as default here\n\tconst newBlockStyle = {\n\t\tid: 0,\n\t\ttitle: \"New Block Style\",\n\t\tslug: \"new-block-style\",\n\t\tcontent: \"selector { background-color: red; }\",\n\t\tmeta: {\n\t\t\tblock_type: \"core/group\",\n\t\t},\n\t};\n\n\tconst { records, hasResolved } = useEntityRecords(\n\t\t\"postType\",\n\t\t\"wpdev_block_style\",\n\t\t{ per_page: -1 },\n\t);\n\n\tconst launchEditForm = (event) => {\n\t\tlet blockStyle = blockStyles.find(\n\t\t\t(blockStyle) => blockStyle.id === parseInt(event.target.value),\n\t\t);\n\t\tsetCurrentBlockStyle({\n\t\t\t...blockStyle,\n\t\t\ttitle: blockStyle.title.raw,\n\t\t\tcontent: blockStyle.content.raw,\n\t\t});\n\t\tsetCurrentView(\"edit\");\n\t};\n\n\tuseEffect(() => {\n\t\tif (hasResolved) {\n\t\t\tsetBlockStyles(records);\n\t\t\tconsole.log(records);\n\t\t}\n\t}, [hasResolved]);\n\n\tconst filterSelector = (css, record) => {\n\t\treturn css.replace(/selector/g, `.is-style-${record.slug}`);\n\t};\n\n\tuseEffect(() => {\n\t\tif (records) {\n\t\t\t// Add records CSS to iframe\n\t\t\tlet css = \"\";\n\t\t\trecords.forEach((record) => {\n\t\t\t\tcss += filterSelector(record.content.raw, record);\n\t\t\t});\n\t\t\tconst style = document.createElement(\"style\");\n\t\t\tstyle.innerHTML = css;\n\t\t\tstyle.id = \"wpdev-block-styles\";\n\t\t\tlet destination =\n\t\t\t\twindow.parent.document.querySelector('iframe[name=\"editor-canvas\"]')\n\t\t\t\t\t?.document.head ?? document.head;\n\n\t\t\tdestination.appendChild(style);\n\t\t}\n\t}, [records]);\n\n\treturn (\n\t\t<div>\n\t\t\t{currentView === \"list\" && (\n\t\t\t\t<>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{blockStyles.map((blockStyle) => (\n\t\t\t\t\t\t\t<li key={blockStyle.id}>\n\t\t\t\t\t\t\t\t<Button onClick={launchEditForm} value={blockStyle.id}>\n\t\t\t\t\t\t\t\t\t{decodeEntities(blockStyle.title.rendered)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<code>{blockStyle.meta.block_type}</code>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t\t<Button onClick={() => setCurrentView(\"new\")} variant=\"primary\">\n\t\t\t\t\t\tAdd New Block Style\n\t\t\t\t\t</Button>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{currentView === \"edit\" && (\n\t\t\t\t<>\n\t\t\t\t\t<h2>Edit Block Style</h2>\n\t\t\t\t\t<EditBlockStyle\n\t\t\t\t\t\tattributes={currentBlockStyle}\n\t\t\t\t\t\tcloseForm={() => {\n\t\t\t\t\t\t\tsetCurrentView(\"list\");\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button onClick={() => setCurrentView(\"list\")} isDestructive>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{currentView === \"new\" && (\n\t\t\t\t<>\n\t\t\t\t\t<h2>New Block Style</h2>\n\t\t\t\t\t<EditBlockStyle\n\t\t\t\t\t\tattributes={newBlockStyle}\n\t\t\t\t\t\tcloseForm={() => {\n\t\t\t\t\t\t\tsetCurrentView(\"list\");\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button onClick={() => setCurrentView(\"list\")} isDestructive>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default BlockStyles;\n","import {\n\tTextControl,\n\tTextareaControl,\n\tSelectControl,\n\tButton,\n\tFlex,\n} from \"@wordpress/components\";\nimport { __ } from \"@wordpress/i18n\";\nimport { useSelect, useDispatch } from \"@wordpress/data\";\nimport { useState } from \"@wordpress/element\";\nimport { store as coreDataStore } from \"@wordpress/core-data\";\nimport { transformStyles } from \"@wordpress/block-editor\";\nimport { registerBlockStyle } from \"@wordpress/blocks\";\n\nfunction EditBlockStyle({ attributes, closeForm }) {\n\tconst [blockStyle, setBlockStyle] = useState(attributes);\n\n\tconst [blockTypes, setBlockTypes] = useState(wp.blocks.getBlockTypes());\n\n\tconst { saveEntityRecord } = useDispatch(coreDataStore);\n\tconst saveBlockStyle = async () => {\n\t\tconst args = {\n\t\t\ttitle: blockStyle.title,\n\t\t\tcontent: blockStyle.content,\n\t\t\tslug: blockStyle.slug,\n\t\t\tstatus: \"publish\",\n\t\t\tmeta: {\n\t\t\t\tblock_type: blockStyle.meta.block_type,\n\t\t\t},\n\t\t};\n\n\t\tif (blockStyle.id) {\n\t\t\targs.id = blockStyle.id;\n\t\t}\n\t\tconst savedRecord = await saveEntityRecord(\n\t\t\t\"postType\",\n\t\t\t\"wpdev_block_style\",\n\t\t\targs,\n\t\t);\n\t\tif (savedRecord) {\n\t\t\tconst [transformed] = transformStyles(\n\t\t\t\t[{ css: blockStyle.content }],\n\t\t\t\t\".editor-styles-wrapper\",\n\t\t\t);\n\n\t\t\tregisterBlockStyle(blockStyle.meta.block_type, {\n\t\t\t\tname: blockStyle.slug,\n\t\t\t\tlabel: blockStyle.title,\n\t\t\t});\n\n\t\t\tconsole.log(transformed);\n\t\t\tcloseForm();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Flex gap=\"3\" direction=\"column\">\n\t\t\t<TextControl\n\t\t\t\tlabel={__(\"Label\")}\n\t\t\t\tvalue={blockStyle.title ?? \"\"}\n\t\t\t\tonChange={(title) =>\n\t\t\t\t\tsetBlockStyle({\n\t\t\t\t\t\t...blockStyle,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<TextControl\n\t\t\t\tlabel={__(\"Class Name\")}\n\t\t\t\tvalue={blockStyle.slug ?? \"\"}\n\t\t\t\thelp={__(\n\t\t\t\t\t\"This is the class name that will be added to the block, and will be prefixed with is-style-\",\n\t\t\t\t)}\n\t\t\t\tonChange={(slug) =>\n\t\t\t\t\tsetBlockStyle({\n\t\t\t\t\t\t...blockStyle,\n\t\t\t\t\t\tslug,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<SelectControl\n\t\t\t\tlabel={__(\"Block Type\")}\n\t\t\t\tvalue={blockStyle.meta?.block_type ?? \"\"}\n\t\t\t\toptions={blockTypes.map((blockType) => ({\n\t\t\t\t\tlabel: blockType.title,\n\t\t\t\t\tvalue: blockType.name,\n\t\t\t\t}))}\n\t\t\t\tonChange={(block_type) =>\n\t\t\t\t\tsetBlockStyle({\n\t\t\t\t\t\t...blockStyle,\n\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\t...blockStyle.meta,\n\t\t\t\t\t\t\tblock_type,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{/* @todo Make the a real code editor with tokens for the class name */}\n\t\t\t{/* @todo Add variables, themejson stuff, etc */}\n\t\t\t<TextareaControl\n\t\t\t\tlabel={__(\"CSS\")}\n\t\t\t\tvalue={blockStyle.content ?? \"\"}\n\t\t\t\tspellCheck={false}\n\t\t\t\tonChange={(content) =>\n\t\t\t\t\tsetBlockStyle({\n\t\t\t\t\t\t...blockStyle,\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Button variant=\"primary\" onClick={saveBlockStyle}>\n\t\t\t\t{__(\"Save Block Style\")}\n\t\t\t</Button>\n\t\t</Flex>\n\t);\n}\n\nexport default EditBlockStyle;\n","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerPlugin } from \"@wordpress/plugins\";\nimport { PluginSidebar } from \"@wordpress/edit-post\";\nimport { styles } from \"@wordpress/icons\";\n\nimport { PanelBody, PanelRow } from \"@wordpress/components\";\nimport BlockStyles from \"./BlockStyles\";\nimport apiFetch from \"@wordpress/api-fetch\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nfunction Edit() {\n\treturn (\n\t\t<PluginSidebar\n\t\t\tname=\"wp-dev-custom-block-style\"\n\t\t\ttitle={__(\"Custom Block Styles\")}\n\t\t\ticon={styles}\n\t\t>\n\t\t\t<PanelBody title={__(\"Custom Block Styles\")}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<BlockStyles />\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</PluginSidebar>\n\t);\n}\n\nregisterPlugin(\"wp-dev-custom-block-style\", { render: Edit });\n\n// @todo Also make this launchable from inside a block.\n\napiFetch({\n\tpath: \"/wp/v2/wpdev_block_style\",\n}).then((response) => {\n\tresponse.forEach((blockStyle) => {\n\t\tconsole.log(blockStyle);\n\t\twp.blocks.registerBlockStyle(blockStyle.meta.block_type, {\n\t\t\tname: blockStyle.slug,\n\t\t\tlabel: blockStyle.title.rendered,\n\t\t\tinlineStyle: blockStyle.content.raw,\n\t\t});\n\t});\n});\n"],"names":["useState","useEffect","useEntityRecords","Button","EditBlockStyle","decodeEntities","BlockStyles","blockStyles","setBlockStyles","currentView","setCurrentView","currentBlockStyle","setCurrentBlockStyle","newBlockStyle","id","title","slug","content","meta","block_type","records","hasResolved","per_page","launchEditForm","event","blockStyle","find","parseInt","target","value","raw","console","log","filterSelector","css","record","replace","_window$parent$docume","forEach","style","document","createElement","innerHTML","destination","window","parent","querySelector","head","appendChild","Fragment","map","key","onClick","rendered","variant","attributes","closeForm","isDestructive","TextControl","TextareaControl","SelectControl","Flex","__","useSelect","useDispatch","store","coreDataStore","transformStyles","registerBlockStyle","_blockStyle$title","_blockStyle$slug","_blockStyle$meta$bloc","_blockStyle$content","setBlockStyle","blockTypes","setBlockTypes","wp","blocks","getBlockTypes","saveEntityRecord","saveBlockStyle","args","status","savedRecord","transformed","name","label","gap","direction","onChange","help","options","blockType","spellCheck","registerPlugin","PluginSidebar","styles","PanelBody","PanelRow","apiFetch","Edit","icon","render","path","then","response","inlineStyle"],"sourceRoot":""}